\chapter{The Documentation Solution} \label{ch:documentation_solution}
\section{Lab Documentation}\label{sec:documentation_solution}
\subsection{Overview}
With any lab management, documentation and procedures need to exist.  For example, if master lab images exist, full sets of instructions need to exist to describe how to rebuild the master from scratch at any point during the process.  That said, a secure place needs to exist to hold this documentation.  At a minimum, it needs to be in a directory somewhere that is periodically backed up.  More advanced documentation solutions may use online wikis or even code repositories for revisions along the way.  In the CECS lab environment, we have a good backup system in place for user accounts, so we created a user called ``conf" to store documentation in.  

\subsection{Special Documentation User}
The conf user was created in the same way as a standard user account.  The disk quota is unlimited, however, that is not a problem because the account only stores text documentation.  In our case, conf is used to hold a student’s skeleton directory, therefore, a quota is not applied.  Since conf is a network user account, it is available from all machines that have Network Information Service (NIS) and Network File System (NFS) mounts set up.  

Accessing the account can be done in several ways.  If an administrator can become root on a machine where conf is accessible from, they can ”su - conf” on the machine to become conf.  The rlogin command can be used assuming a user is in conf’s .rhosts ﬁle.  The modern equivalent of rlogin, Secure Shell (ssh), can be set up by adding an authorized administrator’s public key to conf’s ”authorized keys” file.  

In conf's home directory, we created a folder called ``admin" to hold administrative documentation.  Subfolders for the various lab builds exist.  We have folders for Linux labs, Mac labs, a few notes on the network, patches, the print servers, and the web servers.  Other directories are created as needed.  These directories should contain such things as system build notes, system patching notes,\footnote{Notes will include both distribution patches and manual fixes} supporting documentation,\footnote{These include things like user manuals and web links} or just general system notes.  Storage of the actual system patches can become quite large for a network filesystem.  It is usually much more efficient to have a dedicated file server to store large patches and distribution images.  In our implementation, all of these folders are set to world readable.  We do not store any sort of password or key information and do not have a problem with students being able to read how our labs are set up and managed.  Security through obscurity is not really security at all.  

\subsection{Alternatives}

Alternatively, the information can be stored on a wiki.  Setting up a wiki requires a webserver and usually needs php and mysql support.  The setup of the wiki can become somewhat convoluted depending on the configuration.  The advantage of the wiki is that it can be accessed by any web browser.  It may even be stored on the same server used for the support website.  It is probably not a good idea to open this webserver to the Internet since it has many more security vulnerabilities than flat files.  In addition, because so many components are involved, backing up the wiki can become very cumbersome.  To date, we have not been able to correctly back one up in CECS labs without backing up the entire webserver.  

Another alternative is to just use a code repository such as Subversion or Git.  These services require complex configurations to set up properly.  However, the advantage of using these services is the revisioning and editing ease.  These services can even be integrated into a web server to get the advantages of both.  For our purposes though, we found that simple text files work adequately so long as they are periodically backed up.  
