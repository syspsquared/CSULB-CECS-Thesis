\chapter{Special Considerations} \label{ch:special_considerations}
\section{Specialty Labs} \label{sec:specialty_labs}
\subsection{Overview}
General labs are not always sufficient for all applications.  Sometimes, specialty labs are necessary to do functions that general labs cannot do.  These labs will often have special requirements, such as unique equipment, a different network configuration, a different accounting system, and often a different room environment.  The labs we have covered consist of:  a system administration lab, a network administration lab, a computing cluster lab, a dedicated security lab, a terminal lab, a virtualized lab, and an individual projects lab. While these labs enhance our environment considerably, maintaining so many different configurations with such a limited staff becomes difficult. Thus, these labs are difficult to keep maintained permanently without faculty assistance.  
\subsystem{System Administration Lab}
The system administration lab is for teaching student system administrators (sysadmins).  Because they are given administrative privileges on their machines, they have a huge risk of causing damage or installing something malicious.  For that reason, this lab is isolated from outside networks and the Internet.  Students still need to do work remotely, and certain things must be brought into the lab, so a gateway server is set up with two network interfaces.  This server is open to the outside via one interface, but does not route traffic between the two.  This way, a student can remotely access the gateway, then from the gateway access the rest of the lab.  

Because of this isolation, the lab needs a Linux distribution that can be installed with all tools locally.  Certain distributions, such as Ubuntu, only offer a CD with the core installation and make administrators download what they need on top of it.  Since that is not an option in an isolated lab, a distribution that is fully offered on a CD or DVD set is needed.  In the CECS sysadmin lab, we use Slackware.  This is also arguably the best Linux distribution to teach system administration with because it makes administrators do everything manually.  From an efficiency standpoint, this is not ideal.  However, by making students do everything from scratch, it allows them to troubleshoot problems and truly understand what is going on.  

The sysadmin lab also needs more than 1 subnet in the lab.  For this, we use a second server to act as a 3 way router.  This division is necessary to separate the servers in the lab from the lab workstations, as well as to split the workstations up.  Since students have administrative privileges, they can potentially configure network settings wrong.  For example, if a student doing a system install assignment mistakenly gives their machine the address of the default gateway, they will cause the rest of the lab to send traffic to both them and the gateway.  By dividing the subnets up, they will only take down their subnet rather than the entire lab.  And they will not affect the servers.  It is still annoying to trace who actually did it but it is manageable.  It will also give the students practice with subnet calculations since they will have to work with small subnets under 8 bits.

As with the main labs, the sysadmin lab will need its own set of accounts, its own core servers, its own master image, and be cloned separately.  It needs accounts because the lab can not talk to the core servers for the rest of the labs.  In addition it will need a server to PXE boot from for clones (ideally, it would be the server that functions as a router in the lab).  Lastly, it would need its own master image.  The image would be simple, however, because one assignment in the labs would be rebuilding the image from scratch on individual machines.  It cannot be too complex, just enough to show some basic optimization and software installation choices that a good sysadmin should know.  
\subsection{Network Lab}
The network administration lab is very similar to the sysadmin lab except for a handful of other things.  This lab's purpose is to teach network fundamentals to students as well as troubleshooting and administration skills.  For research purposes, this lab would also be used to demonstrate applications of network theory.  

Since it will be dealing with network devices, the machines would benefit from having wireless cards to connect to wireless nodes.  It would be ideal if this lab were in a location where it would not interfere too heavily with other wireless infrastructures.  Many years ago, it was also useful for these workstations to support other network protocols.  However, since TCP/IP has become the standard across the board, this is no longer an issue.  

If this lab is teaching students home networking, they would benefit from the lab using the most common subnets:  192.168, 172.16, or 10.  In addition, this lab could not remain completely isolated since home networks expect to be able to reach the Internet.  Thus, a 2 way firewall can be used to restrict all inbound traffic behind a NAT (Network Address Translation) border.  It will also restrict outbound traffic to only the most common ports (web, ftp, ssh, etc.).  It should also be blocked from accessing other on-site resources and thus only have an avenue to the public Internet.  This will prevent the majority of issues with student network administrators.   
\subsection{Computing Cluster Lab}
A computing cluster is a set of machines working together to perform a complex computation.  This is a fundamental function for distributed computing.  They usually consist of a head node, which acts as the controller, and child nodes, which work together to perform calculations and communicate the results to the head node.  A lab of these machines requires special considerations.  

Often it is not a lab per se, but a server room full of racks.  This is not absolution necessary but it helps in situations where things can be automated.  In some clusters, there is no automation for the cluster software so each machine must be touched directly to add them to the cluster.  This is not very desirable, but it is common with software made by Adobe.  In this case, all the nodes would be workstations with monitors, keyboards, and mice.  This also makes it simpler to add hardware since you only need to set the hardware on a table and connect it rather than rack mount it.  

It is important that this lab has adequate cooling to support the heat these nodes will generate.  This is probably the most important aspect of the lab.  The room will hugely benefit from having a backup power supply (a generator or UPS) and a backup air conditioning system.  If the cluster is not well funded though, these things may not be necessary.  This would mean the cluster would be periodically shut down and hence would not be suitable for production work.  

The lab machines should have a very barebones operating system installation and only have the software used to run the cluster installed.  Anti-virus and other utility software that could use precious CPU cycles should not be installed.  As such, this lab would also benefit from being isolated from the outside world and have a gateway device people remotely login to.  It is a relatively insecure lab in that respect.  Access to this lab should be restricted only to the people using it for its designed purpose and it should not for any reason be used for general purpose computing (such as web browsing, email, etc.).  If it needs to go outside to download and upload finished computations, only the head node should be allowed to do it.  

Lastly, this lab needs a powerful network infrastructure.  Since these machines are working heavily with each other, the network becomes very chatty.  It should be using a switch (not a hub) with a high throughput.  A nice gigabit switch without QOS (quality of service) would work nicely.  Since this lab is relatively isolated, there is no point in giving them public IP addresses either, so they should be fine with a private 192.168 subnet.  

Given all the above, a dedicated cluster lab would be very costly both in funds available and in room/rack space.  Although CECS has a dedicated cluster occasionally, when we do not we compromise by allowing cluster software to run on our main Linux lab workstations.  Thus, one of our labs of 30 machines can be turned into a makeshift cluster so long as the cluster software does not require administrative rights.  
\subsection{Terminal Lab}
A terminal lab does not consist of workstations but of terminals.  Terminals (sometimes called dumb terminals) do not perform any work on their own.   Rather, they exist just to allow users to communicate with servers they are tied to.  Users do not do any work in terminal labs but instead connect to servers to do work there.  Terminals have not seen much use in recent years.  They were much more common when computers were much larger and could only fit in dedicated machine rooms.\footnote{Mainframes were a perfect example of this}  However, users can still use lab workstations to do work on servers with network clients.  For example, a lab could consist of very weak Linux workstations that only provide students with an ssh client.  They were ssh to a server in another room and use that server's compiler to develop code.  Alternative, they could use a remote desktop client to communicate with Windows Terminal Servers to use Windows-only applications.  These labs are relatively easy to manage because they have very simple purposes.  Actually setting up the servers they connect to represents the bulk of the workload for administrators.  
\subsection{Dedicated Security Lab}
A dedicated security lab is for teaching students about system and network security as well as potentially prepare them to become penetration testers (pen testers).  This lab could also be used to test and analyze malware.  As such, there is no reason this lab should not be completely isolated.  Even a gateway server to access it remotely is a risk because the gateway server could become compromised.  If the lab absolutely has to be accessed remotely, it should be through a remote KVM console that only allow a user to see screen output and pass keyboard strokes (no network traffic allowed).  Other aspects of this lab are beyond the scope of this thesis.  
\subsection{Virtual Machine Lab}
This lab does not take up space in room.  Rather, very spacious servers host virtual machines (VMs) that users access only remotely.  These servers must have a lot of CPU, Memory, and Hard Disk space to support operating systems running on top of them.  The advantage to this environment is very easy deployment of VMs from clone images.  All work can (and should) be done remotely and with automation.  In addition, because they are virtualized, they can be torn down and replaced quickly if a problem emerges.  The disadvantage is these VMs can not quite reach the performance of separate physical hosts.  In addition, if the VM host is not set up to properly schedule resources, one VM can potentially take up most of the resources available and slow down all other VMs on the host.  
\subsection{Individual Projects Lab}
Lastly, it is useful to have a lab solely dedicated to individual projects.  In CECS, we have a dedicated senior projects and graduate student lab that students can use to work in.  This lab may be the most difficult to manage because there are so many different project students do in this lab.  They may or may not even need workstations or network access but instead just need a space and tools to work on hardware.  Determination on how to manage this lab should be on a project by project basis.  Each student should have some sort of project plan or charter and hold discussions with lab managers on what exactly they plan to do.  Communication with the users is more important than anything else in this sort of lab environment as each project team may have special needs.  
